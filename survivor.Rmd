---
title: "Survivor"
author: "Evelyn Cai"
date: "April 5, 2019"
output: html_document
---

```{r setup, include=FALSE, warning = FALSE}
knitr::opts_chunk$set(echo = FALSE)
# Load libraries
library(tidyverse)
library(gganimate)
library(ggplot2)

# Read in the CSV file visa read_csv
x <- read_csv("survivor.csv",
              # specify the column types, or else they will be read in as characters
              col_types = cols(
              # Specify the number of days as a double
              daysLasted = col_double(),
              # Also specify that the number of total votes one received is a double
              votesAgainst = col_double(),
              # Specify that the number of tribal challenge wins is a double
              tribalChallengeWins = col_double())) %>%
      # Separate the hometown column into the city and state abbreviation, which we will later use to map out where Survivor contestants and winners hail from in the country by city and state
      separate(col = "hometown", sep =  c(", "), into = c("city", "state_abbr")) %>%
      # Unselect columns that pertain to player trivia, as they are strings of interesting facts that do not contribute to our data.
      select(-(contains("trivia"))) 
```

``` {r Cool Graphic, message = FALSE, warning = FALSE}

# Create a graphic that shows the number of individual challenge wins for contestants still in the game after the "merge" versus the number of days lasted faceted by gender
x %>%
  # Filter out the N/A values for individual challenge wins, which indicates that the contestant was voted out before the merge
  filter(individualChallengeWins != "N/A",
         # Filter out those who lasted less than two weeks, or 14 days. Since the merge is usually the mid-way point and contain around a dozen remaining contestants, it varies season to season, but the merge has never occurred prior to the two week mark.
         daysLasted > 14) %>%
  # Create a ggplot, with the x-axis as the number of individual challenge wins, and the y-axis as the number of days lasted
  ggplot(mapping = aes(x = individualChallengeWins, y = daysLasted)) +
  # Plot out the points
  geom_jitter(show.legend = FALSE) +
  xlab(NULL) +
  facet_grid(~gender)
```